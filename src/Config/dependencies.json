{
    "outputMiddleware": {
        "class": "TinyApp\\Model\\Middleware\\OutputMiddleware",
        "inject": [
            "@securityMiddleware",
            "%assetsVersion%"
        ]
    },
    "securityMiddleware": {
        "class": "TinyApp\\Model\\Middleware\\SecurityMiddleware",
        "inject": [
            "@responseCacheMiddleware",
            "%securityList%",
            "@sessionService"
        ]
    },
    "responseCacheMiddleware": {
        "class": "TinyApp\\Model\\Middleware\\ResponseCacheMiddleware",
        "inject": [
            "@controllerMiddleware",
            "%cacheList%"
        ]
    },
    "controllerMiddleware": {
        "class": "TinyApp\\Model\\Middleware\\ControllerMiddleware",
        "inject": [
            "%routedController%",
            "%routedAction%"
        ]
    },
    "itemsController": {
        "class": "TinyApp\\Controller\\ItemsController",
        "inject": [
            "@itemsService",
            "@validatorFactory",
            "@sessionService"
        ]
    },
    "filesController": {
        "class": "TinyApp\\Controller\\FilesController",
        "inject": [
            "@filesService",
            "@validatorFactory",
            "@sessionService"
        ]
    },
    "restrictedController": {
        "class": "TinyApp\\Controller\\RestrictedController"
    },
    "authenticationController": {
        "class": "TinyApp\\Controller\\AuthenticationController",
        "inject": [
            "@sessionService",
            "@validatorFactory",
            "%inMemoryUsername%",
            "%inMemoryPasswordHash%"
        ]
    },
    "privateContentController": {
        "class": "TinyApp\\Controller\\PrivateContentController",
        "inject": [
            "@sessionService",
            "@filesService"
        ]
    },
    "apiController": {
            "class": "TinyApp\\Controller\\ApiController",
        "inject": [
            "@itemsService",
            "@validatorFactory"
        ]
    },
    "validatorFactory": {
        "class": "TinyApp\\Model\\Validator\\ValidatorFactory",
        "inject": [
            "@sessionService"
        ]
    },
    "sessionService": {
        "class": "TinyApp\\Model\\Service\\SessionService"
    },
    "itemsService": {
        "class": "TinyApp\\Model\\Service\\ItemsService",
        "inject": [
            "@itemsRepository"
        ]
    },
    "filesService": {
        "class": "TinyApp\\Model\\Service\\FilesService",
        "inject": [
            "@filesRepository"
        ]
    },
    "writeConnection": {
        "class": "TinyApp\\Model\\Repository\\DatabaseConnection",
        "inject": [
            "%databaseEngine%",
            "%databaseHost%",
            "%databaseName%",
            "%databaseUser%",
            "%databasePassword%"
        ]
    },
    "itemsRepository": {
        "class": "TinyApp\\Model\\Repository\\ItemsRepository",
        "inject": [
            "@writeConnection"
        ]
    },
    "filesRepository" : {
        "class": "TinyApp\\Model\\Repository\\FilesRepository",
        "inject": [
            "@writeConnection"
        ]
    }
}
